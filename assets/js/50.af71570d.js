(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{633:function(t,a,s){"use strict";s.r(a);var n=s(17),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ç‰ˆæœ¬é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‰ˆæœ¬é—®é¢˜"}},[t._v("#")]),t._v(" ç‰ˆæœ¬é—®é¢˜")]),t._v(" "),s("p",[t._v("åœ¨ Vue2 ä¸­ä½¿ç”¨ Vuex 3ï¼Œåœ¨ Vue3 ä¸­ä½¿ç”¨ Vuex4")]),t._v(" "),s("h2",{attrs:{id:"æ˜¯ä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¯ä»€ä¹ˆ"}},[t._v("#")]),t._v(" æ˜¯ä»€ä¹ˆ")]),t._v(" "),s("p",[t._v("Vuex æ˜¯ Vue å®˜æ–¹æä¾›çš„ä¸€ä¸ª"),s("strong",[t._v("çŠ¶æ€ç®¡ç†æ¨¡å¼ + åº“")]),t._v('çš„æ’ä»¶ã€‚æŠŠç»„ä»¶çš„å…±äº«çŠ¶æ€æŠ½å–å‡ºæ¥ï¼Œä»¥ä¸€ä¸ªå…¨å±€å•ä¾‹æ¨¡å¼ç®¡ç†ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬çš„ç»„ä»¶æ ‘æ„æˆäº†ä¸€ä¸ªå·¨å¤§çš„â€œè§†å›¾â€ï¼Œä¸ç®¡åœ¨æ ‘çš„å“ªä¸ªä½ç½®ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è·å–çŠ¶æ€æˆ–è€…è§¦å‘è¡Œä¸ºï¼è¿™å°±æ˜¯"\nçŠ¶æ€ç®¡ç†æ¨¡å¼"')]),t._v(" "),s("p",[s("img",{attrs:{src:"https://vuex.vuejs.org/vuex.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"èƒ½å¹²å˜›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#èƒ½å¹²å˜›"}},[t._v("#")]),t._v(" èƒ½å¹²å˜›")]),t._v(" "),s("ol",[s("li",[t._v("å¤šå±‚åµŒå¥—çš„ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼šæ›´å¥½ç®¡ç†ç»´æŠ¤ã€‚")]),t._v(" "),s("li",[t._v("ç¼“å­˜ä¸€äº›å½“å‰è¦ä½¿ç”¨è¯·æ±‚è¿œç¨‹æˆ–æœ¬åœ°çš„æ•°æ®é›†ï¼ˆåˆ·æ–°åä¼šè‡ªå·±é”€æ¯ï¼‰ã€‚")]),t._v(" "),s("li",[t._v("æœ‰äº†ç¬¬äºŒæ¡ï¼Œå°±å¯ä»¥å‡å°‘å‘æœåŠ¡å™¨çš„è¯·æ±‚ï¼ŒèŠ‚çœèµ„æºã€‚")]),t._v(" "),s("li",[t._v("å¯¹å¼€å‘è€…æ¥è¯´ï¼Œå¦‚æœä½ çš„é¡¹ç›®è¶³å¤Ÿå¤æ‚ï¼Œå›¢é˜Ÿçš„è§„æ¨¡ä¹Ÿä¸ä»…æ˜¯ä¸€ä¸ªäººï¼Œæ•°æ®é›†ä¸­å¤„ç†æ›´åˆ©äºç¨‹åºçš„ç¨³å®šå’Œç»´æŠ¤")])]),t._v(" "),s("h2",{attrs:{id:"ğŸ‘ºæ ¸å¿ƒæ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘ºæ ¸å¿ƒæ¦‚å¿µ"}},[t._v("#")]),t._v(" ğŸ‘ºæ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),s("h3",{attrs:{id:"store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#store"}},[t._v("#")]),t._v(" Store")]),t._v(" "),s("p",[t._v('æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ï¼Œ"store" åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«äº† stateã€gettersã€mutationsã€actionsã€modules')]),t._v(" "),s("ol",[s("li",[t._v("Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚")]),t._v(" "),s("li",[t._v("ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°"),s("strong",[t._v("æäº¤ (commit) mutation")]),t._v("ã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[t._v("#")]),t._v(" State")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Vuex å°±æ˜¯ä¸€ä¸ªä»“åº“ï¼Œä»“åº“é‡Œé¢æ”¾äº†å¾ˆå¤šå¯¹è±¡ã€‚å…¶ä¸­ state å°±æ˜¯æ•°æ®æºå­˜æ”¾åœ°ã€‚ç›¸å½“äº vm é‡Œé¢çš„ data")])]),t._v(" "),s("li",[s("p",[t._v("state é‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼ŒVue ç»„ä»¶ä» store ä¸­è¯»å–æ•°æ®ï¼Œè‹¥æ˜¯ store ä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¹Ÿä¼šé‡æ–°è§£ææ¸²æŸ“")])])]),t._v(" "),s("h3",{attrs:{id:"getter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getter"}},[t._v("#")]),t._v(" Getter")]),t._v(" "),s("ol",[s("li",[t._v("getters å¯ä»¥å¯¹ state è¿›è¡Œè®¡ç®—æ“ä½œã€‚ç›¸å½“äº vm é‡Œé¢çš„ computed å±æ€§")]),t._v(" "),s("li",[t._v("è™½ç„¶åœ¨ç»„ä»¶å†…ä¹Ÿå¯ä»¥åšè®¡ç®—å±æ€§ï¼Œä½†æ˜¯ getters å¯ä»¥åœ¨å¤šç»„ä»¶ä¹‹é—´å¤ç”¨")]),t._v(" "),s("li",[t._v("å¦‚æœä¸€ä¸ªçŠ¶æ€åªåœ¨ä¸€ä¸ªç»„ä»¶å†…ä½¿ç”¨ï¼Œæ˜¯å¯ä»¥ä¸ç”¨ getters")])]),t._v(" "),s("h3",{attrs:{id:"mutation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mutation"}},[t._v("#")]),t._v(" Mutation")]),t._v(" "),s("ol",[s("li",[t._v("å®ƒæ˜¯ä¿®æ”¹ state ä¸­çŠ¶æ€çš„å”¯ä¸€å…¥å£ã€‚æƒ³è¦ä¿®æ”¹ state ä¸­çš„çŠ¶æ€ï¼Œå¿…é¡»æäº¤ä¸€ä¸ª mutationï¼Œæ— è®ºæ˜¯åœ¨ action ä¸­æäº¤ï¼Œè¿˜æ˜¯åœ¨ç»„ä»¶ä¸­ç›´æ¥è°ƒç”¨"),s("code",[t._v("$sotre.commit()")]),t._v("è¿›è¡Œæäº¤")]),t._v(" "),s("li",[t._v("mutation å¿…é¡»æ˜¯"),s("strong",[t._v("åŒæ­¥å‡½æ•°")])]),t._v(" "),s("li",[t._v("mutation å‡½æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ state å¯¹è±¡å’Œé€šè¿‡ "),s("code",[t._v("commit")]),t._v("ä¼ å…¥çš„ value")])]),t._v(" "),s("h3",{attrs:{id:"action"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#action"}},[t._v("#")]),t._v(" Action")]),t._v(" "),s("ol",[s("li",[t._v("å¯ä»¥é€šè¿‡ dispatch åˆ†å‘ action")]),t._v(" "),s("li",[t._v("å¯ä»¥é€šè¿‡ commit æäº¤mutationï¼Œè€Œä¸æ˜¯ç›´æ¥ç»´æŠ¤ state å¯¹è±¡")]),t._v(" "),s("li",[t._v("action å¯ä»¥åŒ…å«"),s("strong",[t._v("å¼‚æ­¥æ“ä½œ")])]),t._v(" "),s("li",[t._v("action å‡½æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ context ä¸Šä¸‹æ–‡å¯¹è±¡å’Œé€šè¿‡ "),s("code",[t._v("dispatch")]),t._v("ä¼ å…¥çš„ value")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ¤¡module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤¡module"}},[t._v("#")]),t._v(" ğŸ¤¡Module")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‚è€ƒèµ„æ–™"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ"),s("strong",[t._v("æ¨¡å—ï¼ˆmoduleï¼‰")]),t._v("ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—")]),t._v(" "),s("h4",{attrs:{id:"å…¨å±€å‘½åç©ºé—´çš„æ¨¡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€å‘½åç©ºé—´çš„æ¨¡å—"}},[t._v("#")]),t._v(" å…¨å±€å‘½åç©ºé—´çš„æ¨¡å—")]),t._v(" "),s("ol",[s("li",[t._v("åœ¨æ¨¡å—å†…éƒ¨ï¼Œmutation å’Œ getter æ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯"),s("strong",[t._v("æ¨¡æ¿çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡")]),t._v("ï¼ˆå³è¯¥æ¨¡å—ä¸­å®šä¹‰çš„ stateï¼‰")]),t._v(" "),s("li",[t._v("åœ¨æ¨¡å—å†…éƒ¨ï¼Œaction æ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯"),s("code",[t._v("contextå¯¹è±¡")]),t._v("ï¼Œå®ƒå¯ä»¥é€šè¿‡ "),s("code",[t._v("context.state")]),t._v("è®¿é—®å±€éƒ¨çŠ¶æ€å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡"),s("code",[t._v("context.rootState")]),t._v("è®¿é—®æ ¹èŠ‚ç‚¹çš„çŠ¶æ€å¯¹è±¡")]),t._v(" "),s("li",[t._v("å¦‚æœå¸Œæœ›ä½¿ç”¨å…¨å±€ state å’Œ getterï¼Œ"),s("code",[t._v("rootState")]),t._v(" å’Œ "),s("code",[t._v("rootGetters")]),t._v(" ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moduleA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mutations")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("getters")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moduleB "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mutations")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("modules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("NameA")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" moduleA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("NameB")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" moduleB\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nstore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NameA "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> moduleA çš„çŠ¶æ€")]),t._v("\nstore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NameB "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> moduleB çš„çŠ¶æ€")]),t._v("\n")])])]),s("h4",{attrs:{id:"ç‹¬ç«‹å‘½åç©ºé—´çš„æ¨¡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‹¬ç«‹å‘½åç©ºé—´çš„æ¨¡å—"}},[t._v("#")]),t._v(" ç‹¬ç«‹å‘½åç©ºé—´çš„æ¨¡å—")]),t._v(" "),s("p",[t._v("é€šè¿‡"),s("code",[t._v("namespaced:true")]),t._v("å±æ€§ï¼Œä½¿å…¶å˜ä¸ºæ‹¥æœ‰ç‹¬ç«‹å‘½åç©ºé—´çš„æ¨¡å—ï¼Œå½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åï¼Œ"),s("strong",[t._v("ä½¿ç”¨æ—¶éœ€è¦æ·»åŠ ç©ºé—´åå‰ç¼€")])]),t._v(" "),s("ol",[s("li",[t._v("åœ¨ç‹¬ç«‹å‘½åç©ºé—´æ¨¡å—è®¿é—®å…¨å±€å†…å®¹\n"),s("ol",[s("li",[t._v("ï¼ˆactionï¼‰ï¼Œæ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ª context å‚æ•°ä¸­åŒ…å« "),s("code",[t._v("rootState")]),t._v(" å’Œ "),s("code",[t._v("rootGetters")])]),t._v(" "),s("li",[t._v("ï¼ˆgetterï¼‰ï¼Œ"),s("code",[t._v("rootState")]),t._v(" å’Œ "),s("code",[t._v("rootGetters")]),t._v(" ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥")]),t._v(" "),s("li",[t._v("ï¼ˆmutationï¼‰ï¼Œä¸èƒ½è·å–å…¨å±€çš„å†…å®¹ã€‚ç†è§£ï¼šè·å–åˆ°å…¨å±€çŠ¶æ€ä¹Ÿæ— æ³•è¿›è¡Œä¿®æ”¹")])])]),t._v(" "),s("li",[t._v("éœ€è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ action æˆ–æäº¤ mutationï¼Œå°† "),s("code",[t._v("{ root: true }")]),t._v(" ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ "),s("code",[t._v("dispatch")]),t._v(" æˆ– "),s("code",[t._v("commit")])]),t._v(" "),s("li",[t._v("ç”± 2 å¯çŸ¥ï¼Œåœ¨æ¨¡å—ä¸­å¯ä»¥é€šè¿‡ action è¿›è¡Œè½¬å‘ï¼ˆdispatchï¼‰å’Œæäº¤ï¼ˆcommit mutationï¼‰")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// person æ¨¡å—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("userList")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mutations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SAVEUSER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" actions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SAVEUSER'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("globalDispatchIncrement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'counter/increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("globalCommitIncrement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'counter/INCREMENT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// counter æ¨¡å—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mutations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" value\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DECREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("value\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" actions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INCREMENT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DECREMENT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"æ¨¡å—åŒ–-å‘½åç©ºé—´"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—åŒ–-å‘½åç©ºé—´"}},[t._v("#")]),t._v(" æ¨¡å—åŒ– + å‘½åç©ºé—´")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("â”œâ”€â”€ index.html\nâ”œâ”€â”€ main.js\nâ”œâ”€â”€ api\nâ”‚   â””â”€â”€ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŠ½å–å‡ºAPIè¯·æ±‚")]),t._v("\nâ”œâ”€â”€ components\nâ”‚   â”œâ”€â”€ App.vue\nâ”‚   â””â”€â”€ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nâ””â”€â”€ store\n    â”œâ”€â”€ index.js          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ‘ä»¬ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹")]),t._v("\n    â”œâ”€â”€ actions.js        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ ¹çº§åˆ«çš„ action")]),t._v("\n    â”œâ”€â”€ mutations.js      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ ¹çº§åˆ«çš„ mutation")]),t._v("\n    â””â”€â”€ modules\n        â”œâ”€â”€ cart.js       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è´­ç‰©è½¦æ¨¡å—")]),t._v("\n        â””â”€â”€ products.js   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# äº§å“æ¨¡å—")]),t._v("\n")])])]),s("h2",{attrs:{id:"ç»„ä»¶ç»‘å®šçš„è¾…åŠ©å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶ç»‘å®šçš„è¾…åŠ©å‡½æ•°"}},[t._v("#")]),t._v(" ç»„ä»¶ç»‘å®šçš„è¾…åŠ©å‡½æ•°")]),t._v(" "),s("p",[t._v("ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼ŒæŒ‡å®šå‘½åç©ºé—´çš„å­—ç¬¦ä¸²")]),t._v(" "),s("p",[t._v("ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯¹è±¡æˆ–å­—ç¬¦ä¸²æ•°ç»„")]),t._v(" "),s("blockquote",[s("p",[t._v("å…¶ä¸­ mapActions å’Œ mapMutations æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œå®ƒä»¬ç”Ÿæˆçš„å‡½æ•°æ—¶æœ‰å‚çš„ï¼Œ")]),t._v(" "),s("p",[s("code",[t._v("name:function(value){this.$store.dispatch('functionName',value)}")])]),t._v(" "),s("p",[s("code",[t._v("name:function(value){this.$store.commit('functionName',value)}")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼Œåœ¨è°ƒç”¨å®ƒä»¬ç”Ÿæˆçš„å‡½æ•°æ—¶ï¼Œéœ€è¦é€šè¿‡æ‹¬å·ç›´æ¥ä¼ é€’å‚æ•°ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿‚å›çš„æ–¹å¼å†å®šä¹‰ä¸€ä¸ªæ— å‚çš„å‡½æ•°åŒ…æ‹¬å®ƒï¼Œå†è¿›è¡Œè°ƒç”¨")])]),t._v(" "),s("h3",{attrs:{id:"mapstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapstate"}},[t._v("#")]),t._v(" mapState")]),t._v(" "),s("h3",{attrs:{id:"mapgetters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapgetters"}},[t._v("#")]),t._v(" mapGetters")]),t._v(" "),s("h3",{attrs:{id:"mapactions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapactions"}},[t._v("#")]),t._v(" mapActions")]),t._v(" "),s("h3",{attrs:{id:"mapmutations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapmutations"}},[t._v("#")]),t._v(" mapMutations")])])}),[],!1,null,null,null);a.default=e.exports}}]);